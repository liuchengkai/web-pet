var WebPet;(()=>{"use strict";var e={82:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(81),i=n.n(s),r=n(645),a=n.n(r)()(i());a.push([e.id,'.wp_progress-container{\n    width: 100%;\n    height: 10px;\n    background-color: #ddd;\n    border-radius: 25px;\n    position: absolute;\n    top: -10px;\n    visibility:  hidden;\n  }\n  .wp_container:hover .wp_progress-container{\n      visibility: visible;\n  }\n.wp_progress-bar{\n    width: 100%;\n    height: 100%;\n    border-radius: 25px;\n    background-color: #4CAF50;\n}\n\n.wp_pet-angry {\n    width: 100px; height: 100px;\n    background: url("./resources/img/pet.png") -0 -0;\n}\n.wp_pet-basic {\n    width: 100px; height: 100px;\n    background: url("./resources/img/pet.png") -100px -0;\n}\n.wp_pet-super-happy {\n    width: 100px; height: 100px;\n    background: url("./resources/img/pet.png") -0 -100px;\n}\n.wp_pet-happy {\n    width: 100px; height: 100px;\n    background: url("./resources/img/pet.png") -100px -100px;\n}\n.wp_pet-sad {\n    width: 100px; height: 100px;\n    background: url("./resources/img/pet.png") -200px -0;\n}\n.wp_pet-shy {\n    width: 100px; height: 100px;\n    background: url("./resources/img/pet.png") -200px -100px;\n}',""]);const o=a},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",s=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),s&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),s&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,s,i,r){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(s)for(var o=0;o<this.length;o++){var p=this[o][0];null!=p&&(a[p]=!0)}for(var c=0;c<e.length;c++){var l=[].concat(e[c]);s&&a[l[0]]||(void 0!==r&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=r),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),i&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=i):l[4]="".concat(i)),t.push(l))}},t}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function n(e){for(var n=-1,s=0;s<t.length;s++)if(t[s].identifier===e){n=s;break}return n}function s(e,s){for(var r={},a=[],o=0;o<e.length;o++){var p=e[o],c=s.base?p[0]+s.base:p[0],l=r[c]||0,d="".concat(c," ").concat(l);r[c]=l+1;var u=n(d),h={css:p[1],media:p[2],sourceMap:p[3],supports:p[4],layer:p[5]};if(-1!==u)t[u].references++,t[u].updater(h);else{var m=i(h,s);s.byIndex=o,t.splice(o,0,{identifier:d,updater:m,references:1})}a.push(d)}return a}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var r=s(e=e||[],i=i||{});return function(e){e=e||[];for(var a=0;a<r.length;a++){var o=n(r[a]);t[o].references--}for(var p=s(e,i),c=0;c<r.length;c++){var l=n(r[c]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}r=p}}},569:e=>{var t={};e.exports=function(e,n){var s=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var s="";n.supports&&(s+="@supports (".concat(n.supports,") {")),n.media&&(s+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(s+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),s+=n.css,i&&(s+="}"),n.media&&(s+="}"),n.supports&&(s+="}");var r=n.sourceMap;r&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleTagTransform(s,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(s){var i=t[s];if(void 0!==i)return i.exports;var r=t[s]={id:s,exports:{}};return e[s](r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s={};(()=>{function e(e){let t={};const n=Symbol("mouse");"ontouchstart"in document||e.addEventListener("mousedown",(c=>{if(t[n]={},0==c.button){s(c,t[n]);let e=e=>{i(e,t[n])},a=s=>{r(s,t[n]),document.removeEventListener("mousemove",e)};document.addEventListener("mousemove",e),document.addEventListener("mouseup",a,{once:!0})}else if(2==c.button){a(c,t[n]);let s=e=>{document.removeEventListener("contextmenu",s),e.preventDefault()},i=e=>{o(e,t[n])},r=s=>{t[n].isDrag&&(p(s,t[n]),document.removeEventListener("mousemove",i),document.removeEventListener("mousemove",r),e.removeEventListener("mouseleave",i))};document.addEventListener("contextmenu",s),document.addEventListener("mousemove",i,!0),e.addEventListener("mouseleave",r),document.addEventListener("mouseup",r)}})),t[n]={},e.addEventListener("touchstart",(e=>{for(let i of e.changedTouches)s(i,t[n])})),e.addEventListener("touchmove",(e=>{for(let s of e.changedTouches)i(s,t[n])})),e.addEventListener("touchend",(e=>{for(let s of e.changedTouches)r(s,t[n])}));let s=(t,n)=>{t.preventDefault(),e.dispatchEvent(Object.assign(new CustomEvent("start"),{clientX:t.clientX,clientY:t.clientY})),n.isTap=!0,n.startX=t.clientX,n.startY=t.clientY,clearTimeout(n.timeout),n.timeout=setTimeout((()=>{n.isTap=!1,n.isPress=!0,e.dispatchEvent(Object.assign(new CustomEvent("pressstart"),{clientX:t.clientX,clientY:t.clientY}))}),500)},i=(t,n)=>{let s=(t.clientX-n.startX)**2+(t.clientY-n.startY)**2;if(e.dispatchEvent(Object.assign(new CustomEvent("move"),{clientX:t.clientX,clientY:t.clientY})),s>100&&!n.isPan)return n.isPan=!0,n.isPress&&e.dispatchEvent(Object.assign(new CustomEvent("presscancel"),{clientX:t.clientX,clientY:t.clientY})),clearTimeout(n.timeout),n.isTap=!1,n.isPress=!1,void e.dispatchEvent(Object.assign(new CustomEvent("panstart"),{clientX:t.clientX,clientY:t.clientY,startX:n.startX,startY:n.startY}));n.isPan&&e.dispatchEvent(Object.assign(new CustomEvent("pan"),{clientX:t.clientX,clientY:t.clientY,startX:n.startX,startY:n.startY}))},r=(t,n)=>{n.isPan&&(e.dispatchEvent(Object.assign(new CustomEvent("panend"),{clientX:t.clientX,clientY:t.clientY,startX:n.startX,startY:n.startY})),n.isPan=!1),n.isTap&&(e.dispatchEvent(Object.assign(new CustomEvent("tap"),{clientX:t.clientX,clientY:t.clientY})),n.isTap=!1),n.isPress&&(e.dispatchEvent(Object.assign(new CustomEvent("press"),{clientX:t.clientX,clientY:t.clientY})),n.isPress=!1),e.dispatchEvent(Object.assign(new CustomEvent("end"),{clientX:t.clientX,clientY:t.clientY}))},a=(t,n)=>{e.dispatchEvent(Object.assign(new CustomEvent("dragpetstart"),{clientX:t.clientX,clientY:t.clientY})),n.isDrag=!0,n.startX=t.clientX,n.startY=t.clientY},o=(t,n)=>{n.isDrag&&e.dispatchEvent(Object.assign(new CustomEvent("dragpetmove"),{clientX:t.clientX,clientY:t.clientY}))},p=(t,n)=>{n.isDrag&&(n.isDrag=!1,e.dispatchEvent(Object.assign(new CustomEvent("dragpetend"),{clientX:t.clientX,clientY:t.clientY})))}}n.r(s),n.d(s,{createPet:()=>w,createRenderer:()=>y});var t=n(379),i=n.n(t),r=n(795),a=n.n(r),o=n(569),p=n.n(o),c=n(565),l=n.n(c),d=n(216),u=n.n(d),h=n(589),m=n.n(h),v=n(82),g={};function f(e,t){if(!t||"object"!=typeof t)return e;for(let n in t)t.hasOwnProperty(n)&&(t[n]&&"object"==typeof t[n]?f(e[n],t[n]):e[n]=t[n]);return e}function y({querySeletcor:t,setSize:n}){return{createPet:s=>({init(t){this.wander_timer=null,this.wander_timeout=null,this.isWander=!1,this.happiness_decreasing=s.happiness_decreasing,this.wander_interval=s.wander_interval;for(let e in s.style)t.style[e]=s.style[e];for(let e of document.styleSheets)if(-1!=e.cssRules[0].selectorText.indexOf(".wp_")){for(let t of e.cssRules)-1!=t.selectorText.indexOf(".wp_pet-")&&(t.style.cssText=t.style.cssText.replace("./resources/img/pet.png",s.img_url));break}n(t,s.width,s.height);const i=document.createElement("div");i.classList.add("wp_pet-super-happy"),t.appendChild(i),this.pet=i,e(i);const r=document.createElement("div");r.classList.add("wp_progress-container"),this.happiness_bar=document.createElement("div"),r.appendChild(this.happiness_bar),this.happiness_bar.classList.add("wp_progress-bar"),t.appendChild(r);let a={x:0,y:0},o={x:0,y:0};var p,c;t.addEventListener("dragpetstart",(e=>{a.x=e.clientX,a.y=e.clientY})),t.addEventListener("dragpetmove",(e=>{let n=e.clientX-a.x,s=e.clientY-a.y;t.style.transform=`translate3d(${o.x+n}px, ${o.y+s}px,0)`,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0})),t.addEventListener("dragpetend",(e=>{let n=e.clientX-a.x,s=e.clientY-a.y;o.x+=n,o.y+=s,t.style.transform=`translate3d(${o.x}px, ${o.y}px,0)`})),this.pet.addEventListener("pan",function(e,t=1e3){let n=null;return function(...s){n||(e.apply(this,s),n=setTimeout((()=>{n=null}),t))}}((e=>{this.mypet.isCaress=!0,this.mypet.happiness+2<=100?this.mypet.happiness+=2:this.mypet.happiness=100}))),this.pet.addEventListener("panend",(e=>{this.mypet.isCaress=!1,this.mypet.happiness=this.mypet.happiness})),this._STATUS={BASIC:1,SUPERHAPPY:2,HAPPY:3,SAD:4,ANGRY:5,SHY:6},this.mypet={isCaress:!1,state:this._STATUS,happiness:100},this.mypet=(p=this.mypet,c=(e,t)=>{if("happiness"==e){if(this.updateProgressBar(t),this.mypet.isCaress)return;t>=90?this.mypet.status!=this._STATUS.SUPERHAPPY&&(this.mypet.status=this._STATUS.SUPERHAPPY):t>=80?this.mypet.status!=this._STATUS.HAPPY&&(this.mypet.status=this._STATUS.HAPPY):t>=60?this.mypet.status!=this._STATUS.BASIC&&(this.mypet.status=this._STATUS.BASIC):t>=20?this.mypet.status!=this._STATUS.SAD&&(this.mypet.status=this._STATUS.SAD):this.mypet.status!=this._STATUS.ANGRY&&(this.mypet.status=this._STATUS.ANGRY)}else"status"==e?this.updatePetImg(t):"isCaress"==e&&t&&(this.mypet.status=this._STATUS.SHY)},new Proxy(p,{get:(e,t)=>e[t],set:(e,t,n)=>(c(t,n),e[t]=n,!0)})),this.mypet.happiness=100,setInterval((()=>{this.mypet.happiness>0&&(this.mypet.happiness-=this.happiness_decreasing.value)}),this.happiness_decreasing.time),this.random_wander=(e,t)=>setTimeout((()=>{this.petWander()}),function(e,t){return Math.floor(Math.random()*(t-e))+e}(e,t)),this.wander_timeout=this.random_wander(this.wander_interval.min,this.wander_interval.max)},updateProgressBar(e){this.happiness_bar.style.width=e+"%"},updatePetImg(e){for(let e of this.pet.classList)this.pet.classList.remove(e);let t="";e==this._STATUS.SUPERHAPPY?t="wp_pet-super-happy":e==this._STATUS.HAPPY?t="wp_pet-happy":e==this._STATUS.BASIC?t="wp_pet-basic":e==this._STATUS.SAD?t="wp_pet-sad":e==this._STATUS.ANGRY?t="wp_pet-angry":e==this._STATUS.SHY&&(t="wp_pet-shy"),this.pet.classList.add(t)},petWander(){this.isWander=!0,this.pet.style.transform="translate3d(0,0,0) rotate(0deg)";let e=0,t=0,n=-1,s=1,i=0;this.wander_timer&&clearInterval(this.wander_timer),this.wander_timer=setInterval((()=>{let r=e+1*n,a=t+1*s;Math.abs(r)>150?(e=150*n,n*=-1,i++):e=r,Math.abs(a)>10?(t=10*s,s*=-1):t=a,2==i&&0==e&&(clearInterval(this.wander_timer),this.wander_timeout=this.random_wander(this.wander_interval.min,this.wander_interval.max),this.isWander=!1,t=0),this.pet.style.transform=`translate3d(${e}px, 0, 0) rotate(${t}deg) scaleX(${-n})`}),16.7)},mount(n){s=f({style:{right:"150px",bottom:"20px",position:"fixed",width:"100px",height:"100px"},happiness_decreasing:{time:1e3,value:1},wander_interval:{min:500,max:2e4},img_url:"./resources/img/pet.png"},s);const i=t(n);i.classList.add("wp_container"),e(i),this.init(i)}})}}function w(e){return y({querySeletcor:e=>document.querySelector(e),setSize(e,t,n){e.style.width=t+"px",e.style.height=n+"px"}}).createPet(e)}g.styleTagTransform=m(),g.setAttributes=l(),g.insert=p().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=u(),i()(v.Z,g),v.Z&&v.Z.locals&&v.Z.locals})(),WebPet=s})();