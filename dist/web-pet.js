var WebPet;(()=>{"use strict";var t={82:(t,e,n)=>{n.d(e,{Z:()=>o});var s=n(81),i=n.n(s),r=n(645),a=n.n(r)()(i());a.push([t.id,'.wp_progress-container{\n    width: 100%;\n    height: 10px;\n    background-color: #ddd;\n    border-radius: 25px;\n    position: absolute;\n    top: -10px;\n    visibility:  hidden;\n  }\n  .wp_container:hover .wp_progress-container{\n      visibility: visible;\n  }\n.wp_progress-bar{\n    width: 100%;\n    height: 100%;\n    border-radius: 25px;\n    background-color: #4CAF50;\n}\n\n.wp_pet-angry {\n    width: 100px; height: 100px;\n    background: url("./resources/img/pet.png") -0 -0;\n}\n.wp_pet-basic {\n    width: 100px; height: 100px;\n    background: url("./resources/img/pet.png") -100px -0;\n}\n.wp_pet-super-happy {\n    width: 100px; height: 100px;\n    background: url("./resources/img/pet.png") -0 -100px;\n}\n.wp_pet-happy {\n    width: 100px; height: 100px;\n    background: url("./resources/img/pet.png") -100px -100px;\n}\n.wp_pet-sad {\n    width: 100px; height: 100px;\n    background: url("./resources/img/pet.png") -200px -0;\n}\n.wp_pet-shy {\n    width: 100px; height: 100px;\n    background: url("./resources/img/pet.png") -200px -100px;\n}',""]);const o=a},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",s=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),s&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),s&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,s,i,r){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(s)for(var o=0;o<this.length;o++){var p=this[o][0];null!=p&&(a[p]=!0)}for(var c=0;c<t.length;c++){var l=[].concat(t[c]);s&&a[l[0]]||(void 0!==r&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=r),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),i&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=i):l[4]="".concat(i)),e.push(l))}},e}},81:t=>{t.exports=function(t){return t[1]}},379:t=>{var e=[];function n(t){for(var n=-1,s=0;s<e.length;s++)if(e[s].identifier===t){n=s;break}return n}function s(t,s){for(var r={},a=[],o=0;o<t.length;o++){var p=t[o],c=s.base?p[0]+s.base:p[0],l=r[c]||0,d="".concat(c," ").concat(l);r[c]=l+1;var u=n(d),h={css:p[1],media:p[2],sourceMap:p[3],supports:p[4],layer:p[5]};if(-1!==u)e[u].references++,e[u].updater(h);else{var m=i(h,s);s.byIndex=o,e.splice(o,0,{identifier:d,updater:m,references:1})}a.push(d)}return a}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var r=s(t=t||[],i=i||{});return function(t){t=t||[];for(var a=0;a<r.length;a++){var o=n(r[a]);e[o].references--}for(var p=s(t,i),c=0;c<r.length;c++){var l=n(r[c]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}r=p}}},569:t=>{var e={};t.exports=function(t,n){var s=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(n)}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var s="";n.supports&&(s+="@supports (".concat(n.supports,") {")),n.media&&(s+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(s+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),s+=n.css,i&&(s+="}"),n.media&&(s+="}"),n.supports&&(s+="}");var r=n.sourceMap;r&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleTagTransform(s,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(s){var i=e[s];if(void 0!==i)return i.exports;var r=e[s]={id:s,exports:{}};return t[s](r,r.exports,n),r.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var s={};(()=>{function t(t){let e={};const n=Symbol("mouse");"ontouchstart"in document||t.addEventListener("mousedown",(c=>{if(e[n]={},0==c.button){s(c,e[n]);let t=t=>{i(t,e[n])},a=s=>{r(s,e[n]),document.removeEventListener("mousemove",t)};document.addEventListener("mousemove",t),document.addEventListener("mouseup",a,{once:!0})}else if(2==c.button){a(c,e[n]);let s=t=>{document.removeEventListener("contextmenu",s),t.preventDefault()},i=t=>{o(t,e[n])},r=s=>{e[n].isDrag&&(p(s,e[n]),document.removeEventListener("mousemove",i),document.removeEventListener("mousemove",r),t.removeEventListener("mouseleave",i))};document.addEventListener("contextmenu",s),document.addEventListener("mousemove",i,!0),t.addEventListener("mouseleave",r),document.addEventListener("mouseup",r)}})),e[n]={},t.addEventListener("touchstart",(t=>{for(let i of t.changedTouches)s(i,e[n])})),t.addEventListener("touchmove",(t=>{for(let s of t.changedTouches)i(s,e[n])})),t.addEventListener("touchend",(t=>{for(let s of t.changedTouches)r(s,e[n])}));let s=(e,n)=>{e.preventDefault(),t.dispatchEvent(Object.assign(new CustomEvent("start"),{clientX:e.clientX,clientY:e.clientY})),n.isTap=!0,n.startX=e.clientX,n.startY=e.clientY,clearTimeout(n.timeout),n.timeout=setTimeout((()=>{n.isTap=!1,n.isPress=!0,t.dispatchEvent(Object.assign(new CustomEvent("pressstart"),{clientX:e.clientX,clientY:e.clientY}))}),500)},i=(e,n)=>{let s=(e.clientX-n.startX)**2+(e.clientY-n.startY)**2;if(t.dispatchEvent(Object.assign(new CustomEvent("move"),{clientX:e.clientX,clientY:e.clientY})),s>100&&!n.isPan)return n.isPan=!0,n.isPress&&t.dispatchEvent(Object.assign(new CustomEvent("presscancel"),{clientX:e.clientX,clientY:e.clientY})),clearTimeout(n.timeout),n.isTap=!1,n.isPress=!1,void t.dispatchEvent(Object.assign(new CustomEvent("panstart"),{clientX:e.clientX,clientY:e.clientY,startX:n.startX,startY:n.startY}));n.isPan&&t.dispatchEvent(Object.assign(new CustomEvent("pan"),{clientX:e.clientX,clientY:e.clientY,startX:n.startX,startY:n.startY}))},r=(e,n)=>{n.isPan&&(t.dispatchEvent(Object.assign(new CustomEvent("panend"),{clientX:e.clientX,clientY:e.clientY,startX:n.startX,startY:n.startY})),n.isPan=!1),n.isTap&&(t.dispatchEvent(Object.assign(new CustomEvent("tap"),{clientX:e.clientX,clientY:e.clientY})),n.isTap=!1),n.isPress&&(t.dispatchEvent(Object.assign(new CustomEvent("press"),{clientX:e.clientX,clientY:e.clientY})),n.isPress=!1),t.dispatchEvent(Object.assign(new CustomEvent("end"),{clientX:e.clientX,clientY:e.clientY}))},a=(e,n)=>{t.dispatchEvent(Object.assign(new CustomEvent("dragpetstart"),{clientX:e.clientX,clientY:e.clientY})),n.isDrag=!0,n.startX=e.clientX,n.startY=e.clientY},o=(e,n)=>{n.isDrag&&t.dispatchEvent(Object.assign(new CustomEvent("dragpetmove"),{clientX:e.clientX,clientY:e.clientY}))},p=(e,n)=>{n.isDrag&&(n.isDrag=!1,t.dispatchEvent(Object.assign(new CustomEvent("dragpetend"),{clientX:e.clientX,clientY:e.clientY})))}}n.r(s),n.d(s,{createPet:()=>w,createRenderer:()=>y});var e=n(379),i=n.n(e),r=n(795),a=n.n(r),o=n(569),p=n.n(o),c=n(565),l=n.n(c),d=n(216),u=n.n(d),h=n(589),m=n.n(h),v=n(82),f={};function g(t,e){if(!e||"object"!=typeof e)return t;for(let n in e)e.hasOwnProperty(n)&&(e[n]&&"object"==typeof e[n]?g(t[n],e[n]):t[n]=e[n]);return t}function y({querySeletcor:e,setSize:n}){return{createPet:s=>({init(e){this.wander_timer=null,this.wander_timeout=null,this.isWander=!1,this.happiness_decreasing=s.happiness_decreasing,this.wander_interval=s.wander_interval;for(let t in s.style)e.style[t]=s.style[t];for(let t of document.styleSheets)if(-1!=t.cssRules[0].selectorText.indexOf(".wp_")){for(let e of t.cssRules)-1!=e.selectorText.indexOf(".wp_pet-")&&(e.style.cssText=e.style.cssText.replace("./resources/img/pet.png",s.img_url));break}n(e,s.width,s.height);const i=document.createElement("div");i.classList.add("wp_pet-super-happy"),e.appendChild(i),this.pet=i,t(i);const r=document.createElement("div");r.classList.add("wp_progress-container"),this.happiness_bar=document.createElement("div"),r.appendChild(this.happiness_bar),this.happiness_bar.classList.add("wp_progress-bar"),e.appendChild(r);let a={x:0,y:0},o={x:0,y:0};var p,c;e.addEventListener("dragpetstart",(t=>{a.x=t.clientX,a.y=t.clientY})),e.addEventListener("dragpetmove",(t=>{let n=t.clientX-a.x,s=t.clientY-a.y;e.style.transform=`translate3d(${o.x+n}px, ${o.y+s}px,0)`,t.stopPropagation?t.stopPropagation():t.cancelBubble=!0})),e.addEventListener("dragpetend",(t=>{let n=t.clientX-a.x,s=t.clientY-a.y;o.x+=n,o.y+=s,e.style.transform=`translate3d(${o.x}px, ${o.y}px,0)`})),this.pet.addEventListener("pan",function(t,e=1e3){let n=null;return function(...s){n||(t.apply(this,s),n=setTimeout((()=>{n=null}),e))}}((t=>{this.mypet.isCaress=!0,this.mypet.happiness+2<=100?this.mypet.happiness+=2:this.mypet.happiness=100}))),this.pet.addEventListener("panend",(t=>{this.mypet.isCaress=!1,this.mypet.happiness=this.mypet.happiness})),this._STATUS={BASIC:1,SUPERHAPPY:2,HAPPY:3,SAD:4,ANGRY:5,SHY:6},this.mypet={isCaress:!1,state:this._STATUS,happiness:100},this.mypet=(p=this.mypet,c=(t,e)=>{if("happiness"==t){if(this.updateProgressBar(e),this.mypet.isCaress)return;e>=90?this.mypet.status!=this._STATUS.SUPERHAPPY&&(this.mypet.status=this._STATUS.SUPERHAPPY):e>=80?this.mypet.status!=this._STATUS.HAPPY&&(this.mypet.status=this._STATUS.HAPPY):e>=60?this.mypet.status!=this._STATUS.BASIC&&(this.mypet.status=this._STATUS.BASIC):e>=20?this.mypet.status!=this._STATUS.SAD&&(this.mypet.status=this._STATUS.SAD):this.mypet.status!=this._STATUS.ANGRY&&(this.mypet.status=this._STATUS.ANGRY)}else"status"==t?this.updatePetImg(e):"isCaress"==t&&e&&(this.mypet.status=this._STATUS.SHY)},new Proxy(p,{get:(t,e)=>t[e],set:(t,e,n)=>(c(e,n),t[e]=n,!0)})),this.mypet.happiness=100,setInterval((()=>{this.mypet.happiness>0&&(this.mypet.happiness-=this.happiness_decreasing.value)}),this.happiness_decreasing.time),this.random_wander=(t,e)=>setTimeout((()=>{this.petWander()}),function(t,e){return Math.floor(Math.random()*(e-t))+t}(t,e)),this.wander_timeout=this.random_wander(this.wander_interval.min,this.wander_interval.max)},updateProgressBar(t){this.happiness_bar.style.width=t+"%"},updatePetImg(t){for(let t of this.pet.classList)this.pet.classList.remove(t);let e="";t==this._STATUS.SUPERHAPPY?e="wp_pet-super-happy":t==this._STATUS.HAPPY?e="wp_pet-happy":t==this._STATUS.BASIC?e="wp_pet-basic":t==this._STATUS.SAD?e="wp_pet-sad":t==this._STATUS.ANGRY?e="wp_pet-angry":t==this._STATUS.SHY&&(e="wp_pet-shy"),this.pet.classList.add(e)},petWander(){this.isWander=!0,this.pet.style.transform="translate3d(0,0,0) rotate(0deg)";let t=0,e=0,n=-1,s=1,i=0;this.wander_timer&&clearInterval(this.wander_timer),this.wander_timer=setInterval((()=>{let r=t+1*n,a=e+1*s;Math.abs(r)>150?(t=150*n,n*=-1,i++):t=r,Math.abs(a)>10?(e=10*s,s*=-1):e=a,2==i&&0==t&&(clearInterval(this.wander_timer),this.wander_timeout=this.random_wander(this.wander_interval.min,this.wander_interval.max),this.isWander=!1,e=0),this.pet.style.transform=`translate3d(${t}px, 0, 0) rotate(${e}deg) scaleX(${-n})`}),16.7)},mount(n){s=g({style:{right:"150px",bottom:"20px",position:"fixed",width:"100px",height:"100px"},happiness_decreasing:{time:1e3,value:1},wander_interval:{min:500,max:2e4}},s);const i=e(n);i.classList.add("wp_container"),t(i),this.init(i)}})}}function w(t){return y({querySeletcor:t=>document.querySelector(t),setSize(t,e,n){t.style.width=e+"px",t.style.height=n+"px"}}).createPet(t)}f.styleTagTransform=m(),f.setAttributes=l(),f.insert=p().bind(null,"head"),f.domAPI=a(),f.insertStyleElement=u(),i()(v.Z,f),v.Z&&v.Z.locals&&v.Z.locals})(),WebPet=s})();